---
layout:     post
title:      CSP练习（201803）
subtitle:   CSP练习20180302——小球碰撞
date:       2019-07-18
author:     Mike Qi
header-img: img/post-bg-2015.jpg
catalog: true
published: ture
tags:
    - CSP
---

# CSP练习20180302——小球碰撞

**问题描述：**

　　数轴上有一条长度为L（L为偶数)的线段，左端点在原点，右端点在坐标L处。有n个不计体积的小球在线段上，开始时所有的小球都处在偶数坐标上，速度方向向右，速度大小为1单位长度每秒。
  
  
　　当小球到达线段的端点（左端点或右端点）的时候，会立即向相反的方向移动，速度大小仍然为原来大小。
  
  
　　当两个小球撞到一起的时候，两个小球会分别向与自己原来移动的方向相反的方向，以原来的速度大小继续移动。
  
  
　　现在，告诉你线段的长度L，小球数量n，以及n个小球的初始位置，请你计算t秒之后，各个小球的位置。

### 提示

　　因为所有小球的初始位置都为偶数，而且线段的长度为偶数，可以证明，不会有三个小球同时相撞，小球到达线段端点以及小球之间的碰撞时刻均为整数。
　　同时也可以证明两个小球发生碰撞的位置一定是整数（但不一定是偶数）。

>输入格式

　　输入的第一行包含三个整数n, L, t，用空格分隔，分别表示小球的个数、线段长度和你需要计算t秒之后小球的位置。
　　第二行包含n个整数a1, a2, …, an，用空格分隔，表示初始时刻n个小球的位置。

>输出格式

　　输出一行包含n个整数，用空格分隔，第i个整数代表初始时刻位于ai的小球，在t秒之后的位置。

>样例输入

3 10 5
4 6 8

>样例输出

7 9 9

>样例输入

10 22 30
14 12 16 6 10 2 8 20 18 4

>样例输出

6 6 8 2 4 0 4 12 10 2

>数据规模和约定

　　对于所有评测用例，1 ≤ n ≤ 100，1 ≤ t ≤ 100，2 ≤ L ≤ 1000，0 < ai < L。L为偶数。
　　保证所有小球的初始位置互不相同且均为偶数。


## 以下是c++语法答案

```c
#include <iostream>

using namespace std;

const int a = 1000;
int pos[a+1],step[a+1];

int main(){
	int n,l,t;
	cin>>n>>l>>t;
	for(int i=0;i<n;i++){
		cin>>pos[i];
		step[i]=1;
		if(pos[i]==l){
			step[i]=-step[i];
		}
	}
	
	for(int i=0;i<t;i++){  /*大的for循环的原理是，每进行一次大的循环，里面的小循环按顺序都完整执行一次，下面的两个小循环都是把自己全部执行一遍在往后执行，这里大循环每执行一次表示时间过去了一秒*/ 
		
		for(int j=0;j<n;j++){//如果碰壁则转向 
			pos[j]+=step[j];
			
			if(pos[j]==0||pos[j]==l){
				step[j]=-step[j];
			}	
		}
		
		for(int h=0;h<n;h++){
			for(int g=h+1;g<n;g++){//遇到两个小球碰撞则两个都小球转向 
				if(pos[h]==pos[g]){	
					step[h]=-step[h];
					step[g] =-step[g];
				}
				
			}
			
		}
	
	}
	
	for(int i=0;i<n;i++){
		
		cout<<pos[i]<<" ";
	}

	return 0;
}
```
